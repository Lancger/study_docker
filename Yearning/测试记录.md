## 一、模拟插入数据

```
##模拟插入100w数据
root># cat 1.py
import MySQLdb

db=MySQLdb.connect(host='127.0.0.1', user='root', passwd='123456', port=3306)
cur=db.cursor()
cur.execute('use aud2')
cur.execute('truncate table book')
for t in range(0,100):
    sql = 'insert into book (id, name) values '
    for i in range(1,10000):
       sql += ' ('+`t*10000+i`+', "tb5EXTRA"),'
    sql += ' ('+`t`+'10000, "tb5EXTRA")'
    cur.execute(sql)
    db.commit()
cur.close()
db.close()


##查询数据
root># mysql -uroot -p123456 -e 'select count(1) from aud2.book;'
Warning: Using a password on the command line interface can be insecure.
+----------+
| count(1) |
+----------+
|  1000000 |
+----------+


#让mySQl的自增id从1开始的方法
book 为表名，truncate table book;

#删库
mysql> drop database aud2;

#建库
mysql> create database aud2;

#建表
create table aud2.book(id int(8) not null primary key auto_increment,
                  name varchar(45),
                  price float)engine=INNODB auto_increment=1;
                  
create table aud2.book(id int(8) not null primary key auto_increment,
                  name varchar(45))engine=INNODB auto_increment=1;              

#插入数据
INSERT INTO book(id, name, price) VALUES (1,'good',12);

#不带id也可以
INSERT INTO book(id, name, price) VALUES ('jump',15);


#查看数据
mysql> select * from book;
+----+------+-------+
| id | name | price |
+----+------+-------+
|  1 | good |    12 |
|  2 | jump |    15 |
+----+------+-------+

##查询数据总数
root># mysql -uroot -p123456 -e 'select count(1) from aud2.book;'
Warning: Using a password on the command line interface can be insecure.
+----------+
| count(1) |
+----------+
|  100000 |
+----------+

#删除数据
DELETE FROM book WHERE id = 1;

```

## 二、查询数据
```
SELECT * FROM book LIMIT 5;                      //检索前 5 个记录行
SELECT * FROM book LIMIT 5,10                    // 检索记录行 6-15
SELECT * FROM book LIMIT 95,-1;                  // 检索记录行 96-last. 
select * from book order by id DESC LIMIT 0,5;   
select * from book order by id DESC limit 10;    //检索最后10条记录
```

## 三、DDL测试
```
##########
重命名表
alter table book rename to book1;

修改字段
alter table book modify column name varchar(50) ;

增加字段
alter table book add sex varchar（10);

##########
DDL操作是隐性提交的！不能rollback 

#建表操作
create table book(id int UNSIGNED not null primary key auto_increment,
                  name varchar(45),
                  price float)engine=INNODB DEFAULT CHARSET=utf8 auto_increment=1;
                  
模拟插入了2条数据                 
INSERT INTO book(id, name, price) VALUES (1,'good1',14);
INSERT INTO book(id, name, price) VALUES (2,'good2',14);

#删表操作
DROP TABLE `aud2`.`book`;

然后回滚，是只能回滚表结构，不能回滚数据
##########

```

## 四、DML测试
```
#先查询数据
mysql> select * from book where id=1;
+----+----------+
| id | name     |
+----+----------+
|  1 | tb5EXTRA |
+----+----------+
1 row in set (0.01 sec)

#执行DML删除操作
delete from book where id='1';

#执行回滚操作
INSERT INTO `aud2`.`book` ( id,name) values( 1,'tb5EXTRA') 
```


## 五、建表(设置主键无符号UNSIGNED并指定字符集)

```
create table book(id int UNSIGNED not null primary key auto_increment,
                  name varchar(45),
                  price float)engine=INNODB DEFAULT CHARSET=utf8 auto_increment=1;
```


